{"version":3,"sources":["WPForm.js","App.js","index.js"],"names":["WPForm","useState","companyname","firstname","lastname","jobtitle","phonenumber","email","errors","submiterror","success","state","setState","handleInputChange","event","key","target","name","value","prevState","hasError","indexOf","getWPNonce","axios","get","process","then","response","nonce","data","post","submiterrors","catch","error","console","log","className","Form","onSubmit","preventDefault","push","test","String","toLowerCase","length","Group","as","Row","controlId","Label","column","sm","Col","Control","type","placeholder","onChange","span","offset","Check","label","Button","variant","Alert","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5839b956.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Form, Row, Col, Button, Alert } from 'react-bootstrap';\nimport axios from 'axios';\n\nfunction WPForm() {\n  const [ state, setState ] = useState({ \n    companyname: \"\", \n    firstname: \"\", \n    lastname: \"\", \n    jobtitle:\"\", \n    phonenumber: \"\", \n    email:\"\", \n    errors: [],\n    submiterror:null,\n    success:null,\n  });\n\n  const handleInputChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n    setState( prevState => {\n      return { ...prevState, [key]:value }\n    })\n\n  }\n\n  const hasError = (key) => {\n    return state.errors.indexOf(key) !== -1;\n  };\n\n  const sendMessage = (nonce) => {\n\n    axios.post(`${process.env.REACT_APP_API_URL}/wp-json/wpcorp/v1/message/?nonce=${nonce}`, state)\n    .then( response => {\n      //console.log(response.data);\n      setState( (prevState) => {\n        return { ...prevState, success: response.data.success, submiterror:response.data.submiterrors };\n      });\n    }).catch( error => {\n      console.log(error.response);\n    });\n  };\n\n  const getWPNonce = () => {\n    axios.get(`${process.env.REACT_APP_API_URL}/wp-json/wpcorp/v1/nonce`)\n    .then( response => {\n      //console.log(response.data.nonce);\n      sendMessage(response.data.nonce);\n    }).catch( error => {\n      console.log(error.response);\n    });\n  };\n\n  const handleSubmit = (event) => {\n\n    event.preventDefault();\n  \n    //VALIDATE\n    const errors = [];\n  \n    //CompanyName\n    if (state.companyname === \"\") {\n      errors.push(\"companyname\");\n    }\n  \n    //Phone Number\n    if (state.phonenumber === \"\") {\n      errors.push(\"phonenumber\");\n    }\n\n    //Email \n    if (state.email === \"\") {\n      errors.push(\"email\");\n    }\n  \n    //email\n    const expression = /\\S+@\\S+/;\n    const validEmail = expression.test(String(state.email).toLowerCase());\n\n    if (!validEmail) {\n      errors.push(\"email\");\n    }\n  \n    setState((prevState) => {\n      return { ...prevState, errors: errors }\n    })\n\n    //console.log(\"State:\", state);\n  \n    if (errors.length > 0) {\n      return false;\n    } else {\n      getWPNonce();\n      //alert(\" Looks ok to submit!\");\n    }\n  }\n\n  return (\n    <>\n      <div className=\"container\">\n        <Form onSubmit={handleSubmit} className=\"pt-3\">\n\n          <Form.Group as={Row} controlId=\"formHorizontalCompany\">\n            <Form.Label column sm={2}>\n              Company Name\n            </Form.Label>\n            <Col sm={10}>\n              <Form.Control \n                className={\n                  hasError(\"companyname\")\n                    ? \"form-control is-invalid\"\n                    : \"form-control\"\n                } \n                name=\"companyname\" \n                value={state.companyname} \n                type=\"text\" \n                placeholder=\"Company Name\" \n                onChange={ handleInputChange } \n              />\n            </Col>\n          </Form.Group>\n\n          <Form.Group as={Row} controlId=\"formHorizontalFirstName\">\n            <Form.Label column sm={2}>\n              First Name (optional)\n            </Form.Label>\n            <Col sm={10}>\n              <Form.Control name=\"firstname\" value={state.firstname} type=\"text\" placeholder=\"First Name\" onChange={ handleInputChange } />\n            </Col>\n          </Form.Group>\n\n          <Form.Group as={Row} controlId=\"formHorizontalLastName\">\n            <Form.Label column sm={2}>\n              Last Name (optional)\n            </Form.Label>\n            <Col sm={10}>\n              <Form.Control name=\"lastname\" value={state.lastname} type=\"text\" placeholder=\"Last Name\" onChange={ handleInputChange } />\n            </Col>\n          </Form.Group>\n\n          <Form.Group as={Row} controlId=\"formHorizontalJobTitle\">\n            <Form.Label column sm={2}>\n              Job Title (optional)\n            </Form.Label>\n            <Col sm={10}>\n              <Form.Control name=\"jobtitle\" value={state.jobtitle} type=\"text\" placeholder=\"Job Title\" onChange={ handleInputChange } />\n            </Col>\n          </Form.Group>\n\n          <Form.Group as={Row} controlId=\"formHorizontalEmail\">\n            <Form.Label column sm={2}>\n              Email Address\n            </Form.Label>\n            <Col sm={10}>\n              <Form.Control \n                name=\"email\"\n                className={\n                  hasError(\"email\")\n                    ? \"form-control is-invalid\"\n                    : \"form-control\"\n                }\n                value={state.email} \n                type=\"email\" \n                placeholder=\"Email\" \n                onChange={ handleInputChange } \n              />\n            </Col>\n          </Form.Group>\n\n          <Form.Group as={Row} controlId=\"formHorizontalPhoneNumber\">\n            <Form.Label column sm={2}>\n              Phone Number\n            </Form.Label>\n            <Col sm={10}>\n              <Form.Control \n                name=\"phonenumber\"\n                className={\n                  hasError(\"phonenumber\")\n                    ? \"form-control is-invalid\"\n                    : \"form-control\"\n                }\n                value={state.phonenumber}\n                type=\"text\"\n                placeholder=\"Phone Name\"\n                onChange={ handleInputChange } \n              />\n            </Col>\n          </Form.Group>\n\n          <Form.Group as={Row} controlId=\"formHorizontalCheck\">\n            <Col sm={{ span: 10, offset: 2 }}>\n              <Form.Check label=\"The information collected will be used in accordance with our privacy policy\" />\n            </Col>\n          </Form.Group>\n\n          <Form.Group as={Row}>\n            <Col sm={{ span: 10, offset: 2 }}>\n              <Button variant=\"secondary\" type=\"submit\">Request a Quote</Button>\n            </Col>\n          </Form.Group>\n          {state.success && <Alert variant=\"success\">Form successfully submited.</Alert>}\n          {state.submiterror && <Alert variant=\"danger\">Error while submitting form. Try again!</Alert>}\n        </Form>\n      </div>\n    </>\n  );\n}\n\nexport default WPForm;\n","import WPForm from './WPForm';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <WPForm />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}